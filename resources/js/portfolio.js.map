{"version":3,"sources":["app.js","form.js","portfolio.js","parallax.js","works.js","menu.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"portfolio.js","sourcesContent":["// requestAnimationFrame polyfill by Erik Möller\r\n// fixes from Paul Irish and Tino Zijdel\r\n(function() {\r\n    var lastTime = 0;\r\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x){\r\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\r\n        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame']\r\n                                   || window[vendors[x]+'CancelRequestAnimationFrame'];\r\n    }\r\n \r\n    if (!window.requestAnimationFrame)\r\n        window.requestAnimationFrame = function(callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\r\n              timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n \r\n    if (!window.cancelAnimationFrame)\r\n        window.cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n}());\r\n(function(ctx){\r\n    \"use strict\";\r\n    var base_url;\r\n    var app={\r\n        // Application Constructor\r\n        initialize: function(url){\r\n            window.requestAnimFrame = (function(){\r\n                return  window.requestAnimationFrame       ||\r\n                        window.webkitRequestAnimationFrame ||\r\n                        window.mozRequestAnimationFrame    ||\r\n                        window.oRequestAnimationFrame      ||\r\n                        window.msRequestAnimationFrame     ||\r\n                        function( callback ){\r\n                            window.setTimeout(callback, 1000 / 60);\r\n                        };\r\n            })();\r\n            base_url=url;\r\n            self.form.initialize();\r\n            self.menu.initialize();\r\n            self.portfolio.initialize();\r\n            self.works.initialize();\r\n            self.parallax.initialize();\r\n            self.bindEvents();\r\n        },\r\n        bindEvents: function(){\r\n\r\n        },\r\n        getBaseUrl: function(){\r\n            return base_url;\r\n        }\r\n    };\r\n    ctx.app=app;\r\n    var self=app;\r\n})(window);","(function(ctx){\r\n    \"use strict\";\r\n    var token=0, date, $submit, token_ajax, match, error, $form, $input_name, $input_mail, $input_message, author, email, message, $error_name, $error_mail, $error_message;\r\n    \r\n    var form={\r\n        initialize: function(){\r\n            $form=$('#form_contact');\r\n            $input_name=$('#name');\r\n            $input_mail=$('#email');\r\n            $input_message=$('#message');\r\n            $submit=$('#form_contact .form_submit');\r\n            $error_name=$input_name.siblings('.error_name');\r\n            $error_mail=$input_mail.siblings('.error_mail');\r\n            $error_message=$input_message.siblings('.error_message');\r\n            \r\n            self.bindEvents();\r\n        },\r\n        bindEvents: function(){\r\n            $form.on('submit', function(e){\r\n                e.preventDefault();\r\n                error=0;\r\n                self.getFields();\r\n                self.resetFieldsStatus();\r\n                if(!self.checkFields()){\r\n                    return false;\r\n                }\r\n                $submit.val('Submit').removeClass('submit_error');\r\n                if(!token){\r\n                    token++;\r\n                    self.generateToken();\r\n                    $submit.val('Sending...').addClass('active');\r\n                    self.ajaxSendMail();\r\n                }\r\n               \r\n               return false;\r\n            });\r\n            \r\n            $input_mail.on('keyup change', function(){\r\n                self.getEmail();\r\n                self.checkValidEmail();\r\n            });\r\n        },\r\n        checkFields: function(){\r\n            if(!author){\r\n               self.setFieldError($input_name, $error_name, 'Could I know your name.');\r\n               error++;\r\n            }\r\n            if(!email){\r\n                self.setFieldError($input_mail, $error_mail, 'I need your email to reply.');\r\n                error++;\r\n            }else if(!self.checkValidEmail()){\r\n                self.setFieldError($input_mail, $error_mail, 'This email is invalid.');\r\n                error++;\r\n            }\r\n            if(!message){\r\n                self.setFieldError($input_message, $error_message, 'Could you tell me why you contact me, please.');\r\n                error++;\r\n            }\r\n            return (error)? false : true;\r\n        },\r\n        resetFieldsStatus: function(){\r\n            $input_name.removeClass('error_form');\r\n            $input_mail.removeClass('error_form');\r\n            $input_message.removeClass('error_form');\r\n        },\r\n        setFieldError: function($field, $error, error){\r\n            $error.html(error);\r\n            $field.addClass('error_form');\r\n        },\r\n        getFields: function(){\r\n            author=$input_name.val();\r\n            email=$input_mail.val().trim();\r\n            message=$input_message.val().trim();\r\n        },\r\n        getEmail: function(){\r\n            email=$input_mail.val().trim();\r\n        },\r\n        checkValidEmail: function(){\r\n            match=email.match(/^[a-zA-Z0-9\\.\\_\\-]+@[a-zA-Z0-9\\.\\_\\-]+\\.[a-zA-Z]{2,6}/);\r\n            if(!match || match[0]!==email){\r\n                $input_mail.addClass('error_form');\r\n                return false;\r\n            }\r\n            $input_mail.removeClass('error_form');\r\n            return true;\r\n        },\r\n        ajaxSendMail: function(){\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: ctx.getBaseUrl() + \"/contact\",\r\n                data: {\r\n                    \"_token\": token_ajax,\r\n                    \"name\": author,\r\n                    \"email\": email,\r\n                    \"message\": message\r\n                },\r\n                success: function(data){\r\n                    token=0;\r\n                    if(data.status==='success'){\r\n                        $submit.removeClass('active').val('Send');\r\n                    }else{\r\n                        $submit.val('Error').addClass('submit_error');\r\n                    }\r\n                },\r\n                error: function(error){\r\n                    token=0;\r\n                    $submit.val('Error').addClass('submit_error');\r\n                    error=JSON.parse(error.responseText);\r\n                    if(error.name){\r\n                        self.setFieldError($input_name, $error_name, 'Could I know your name.');\r\n                    }\r\n                    if(error.email){\r\n                        self.setFieldError($input_mail, $error_mail, 'I need a valid email to reply.');\r\n                    }\r\n                    if(error.message){\r\n                        self.setFieldError($input_message, $error_message, 'Could you tell me why you contact me, please.');\r\n                    }\r\n                }\r\n            }, \"json\");\r\n        },\r\n        generateToken: function(){\r\n            date=new Date();\r\n            token_ajax=date.getUTCDate() + '_' + Math.random().toString(36).substring(7) + (date.getMonth()+1);\r\n        }\r\n    };\r\n    ctx.form=form;\r\n    var self=form;\r\n})(app);","(function(ctx){\r\n    \"use strict\";\r\n    var fill, $projectBanner, $page=$('html, body'), $header=$('#header'), top, left, $window=$(window),\r\n    $modal, $lightbox, $cross, $menuHeader=$('#menu_header'), $menuHeaderLi=$menuHeader.children('ul').children('li'),\r\n    $worksSlide=$('#works_slide'), $wrapper=$('#wrapper'), $learn=$('#learn'), projectId, $this;\r\n    \r\n    var portfolio={\r\n        initialize: function(){\r\n            $projectBanner=$('.project_banner');\r\n            self.bindEvents();\r\n        },\r\n        bindEvents: function(){\r\n            $projectBanner.on('click', function(){\r\n                $this=$(this);\r\n                projectId=$this.attr('data-project');\r\n                $this.children('.veil').addClass('active');\r\n                $.ajax({\r\n                    type: \"GET\",\r\n                    url: ctx.getBaseUrl() + \"/project/\" + projectId,\r\n                    success: function(data){\r\n                        self.generateLightbox(data);\r\n                        $this.children('.veil').removeClass('active');\r\n                    }\r\n                });\r\n            });\r\n               \r\n            $window.on('resize', function(){\r\n                if($lightbox){\r\n                    self.positionLightbox();\r\n                }\r\n            });\r\n            \r\n            $menuHeaderLi.on('click', function(e){\r\n                e.preventDefault();\r\n                $menuHeaderLi.removeClass('active');\r\n                $(this).addClass('active');\r\n            });\r\n            \r\n            $learn.on('click', function(e){\r\n                e.preventDefault();\r\n                self.scroll($worksSlide, 20);\r\n            });\r\n\r\n            $(\"#menu_head_home, #logo\").on('click', function(e){\r\n                e.preventDefault();\r\n                self.scroll($wrapper, 0);\r\n            });\r\n        },\r\n        bindEventsModal: function(){\r\n            $cross.on('click', function(){\r\n                self.destroyLightbox();\r\n            });\r\n\r\n            $modal.on('click', function(){\r\n                self.destroyLightbox();\r\n            });\r\n        },\r\n        dataFill: function($field){\r\n            fill=$($field).attr('data-percent');\r\n            $($field).children('.rempl_data').css('width', fill+'%');\r\n        },\r\n        dataUnfill: function($field){\r\n            $($field).children('.rempl_data').css('width', '0');\r\n        },\r\n        generateLightbox: function(data){\r\n            //on crée le fond opaque et la lightbox\r\n            $modal=$('<div class=\"modal\"></div>').appendTo('body');\r\n            $lightbox=$('<div class=\"lightbox\">'+\r\n                    '<h3>'+data.data.title+'</h3>'+\r\n                    '<p>'+data.data.abstract+'</p>'+\r\n                    data.content+'</div>').appendTo('body');\r\n            $cross=$('<div class=\"cross\"></div>').appendTo($lightbox);\r\n\r\n            $wrapper.addClass('blur');\r\n            self.positionLightbox();\r\n            self.bindEventsModal();\r\n        },\r\n        destroyLightbox: function(){\r\n            $wrapper.removeClass('blur');\r\n            $lightbox.remove();\r\n            $modal.remove();\r\n        },\r\n        positionLightbox: function(){\r\n            top=($window.innerHeight()-$lightbox.height())*0.5;\r\n            left=($window.innerWidth()*0.4)*0.5;\r\n\r\n            if(!window.matchMedia(\"(max-width: 480px)\").matches){\r\n                $lightbox.css({'top': top+'px', 'left': left+'px'});\r\n            }else if(!window.matchMedia(\"(max-width: 400px)\").matches){\r\n                $lightbox.css({'top': top+'px', 'left': '10%'});\r\n            }else{\r\n                $lightbox.css({'top': top+'px', 'left': '2%'});\r\n            }\r\n        },\r\n        /*\r\n         * modifier timer en fonction windowScroll/distance ancre\r\n         */\r\n        scroll: function($scrollTo, ajust){\r\n            $page.animate({\r\n                scrollTop:($scrollTo.offset().top)-($header.height()+ajust)\r\n            }, 2000);\r\n        }\r\n    };\r\n    \r\n    ctx.portfolio=portfolio;\r\n    var self=portfolio;\r\n})(app);","(function(ctx){\r\n    \"use strict\";\r\n    var windowScroll=0, $window=$(window), $worksSlide=$('#works_slide'), $skills=$('#skills'), $about=$('#about'), $data, $fondBase=$('#fond_base');\r\n    \r\n    var parallax={\r\n        initialize: function(){\r\n            $data=$('#skills .web .data');\r\n            self.bindEvents();\r\n        },\r\n        bindEvents: function(){\r\n            $window.on('scroll', function(e){\r\n                e.preventDefault();\r\n                windowScroll=Math.floor($window.scrollTop());\r\n                self.renderParallax();\r\n                ctx.menu.controlMenuActiveLink();\r\n            });\r\n        },\r\n        getWindowScroll: function(){\r\n            return windowScroll;\r\n        },\r\n        parallaxBG: function(elem, yPos, ySpeed){\r\n            elem.css({'background-position' : '0px '+(yPos-(windowScroll/ySpeed))+'px'});\r\n        },\r\n        parallaxHeight: function(elem, iniHeight, divHeight, soustractHeight, speed){\r\n            elem.css({'height' : iniHeight+((windowScroll/divHeight)-soustractHeight)*speed+'%'});\r\n        },\r\n        renderParallax: function(){\r\n            if(windowScroll> -100 && windowScroll<$worksSlide.offset().top + 200){\r\n                self.parallaxBG($fondBase, 75, 0.5);\r\n            }\r\n\r\n            self.parallaxBG($about, 0, 0.1);\r\n            //self.parallaxHeight($fondAbout, 0, 20, 65, 1.6);\r\n            \r\n            if(windowScroll>$skills.offset().top - 150 && windowScroll<$skills.offset().top + $skills.height() -150){\r\n                for(var i=0; i<$data.length; i++){\r\n                    ctx.portfolio.dataFill($data[i]);\r\n                }\r\n            }\r\n\r\n            if(windowScroll<$skills.offset().top - 300 || windowScroll>$skills.offset().top + $skills.height() - 150){\r\n                for(var i=0; i<$data.length; i++){\r\n                    ctx.portfolio.dataUnfill($data[i]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    \r\n    ctx.parallax=parallax;\r\n    var self=parallax;\r\n})(app);","(function(ctx){\r\n    \"use strict\";\r\n    var $menuFilter=$('#menu_filter li') ,filter, $projects=$('.project_banner'), $this;\r\n    \r\n    var works={\r\n        initialize: function(){\r\n            self.bindEvents();\r\n        },\r\n        bindEvents: function(){\r\n            $menuFilter.on('click', function(e){\r\n                e.preventDefault();\r\n                $this=$(this);\r\n                if($this.hasClass('active')===false){\r\n                    self.filterWorks($this);\r\n                }\r\n            });\r\n        },\r\n        filterWorks: function($this){\r\n            $menuFilter.removeClass('active');\r\n            $this.addClass('active');\r\n\r\n            filter=$this.attr('data-filter');\r\n            if(filter==='All'){\r\n                $projects.addClass('project_filter');\r\n            }else{\r\n                for(var i=0; i<$projects.length; i++){\r\n                    self.projectStatusChange($($projects[i]));\r\n                }\r\n            }\r\n        },\r\n        projectStatusChange: function($project){\r\n            if($project.hasClass(filter)){\r\n                $project.addClass('project_filter');\r\n            }else{\r\n                $project.removeClass('project_filter');\r\n            }\r\n        }\r\n    };\r\n    \r\n    ctx.works=works;\r\n    var self=works;\r\n})(app);","(function(ctx){\r\n    \"use strict\";\r\n    var windowScroll=0, $window=$(window), $worksSlide=$('#works_slide'), $footer=$('#footer'), $about=$('#about'), $menuHeader=$('#menu_header'), $wrapperFooter=$('#wrapper_footer'),\r\n    $menuHeaderLi=$menuHeader.children('ul').children('li'), $menuContact=$('#menu_head_contact'), $menuAbout=$('#menu_head_about'), $menuWork=$('#menu_head_work'), $menuHome=$('#menu_head_home'), X;\r\n    \r\n    var menu={\r\n        initialize: function(){\r\n            if(!window.matchMedia(\"(max-width: 1100px)\").matches){\r\n                X=30;\r\n                self.transitionMenu($menuHeader, 'right', X);\r\n            }\r\n            self.bindEvents();\r\n        },\r\n        bindEvents: function(){\r\n            $window.on('resize', function(){\r\n                self.onResize();\r\n            });\r\n            \r\n            $menuWork.on('click', function(e){\r\n                e.preventDefault();\r\n                ctx.portfolio.scroll($worksSlide, 20);\r\n            });\r\n\r\n            $menuAbout.on('click', function(e){\r\n                e.preventDefault();\r\n                ctx.portfolio.scroll($about, 0);\r\n            });\r\n\r\n            $menuContact.on('click', function(e){\r\n                e.preventDefault();\r\n                ctx.portfolio.scroll($wrapperFooter, 0);\r\n            });\r\n        },\r\n        controlMenuActiveLink: function(){\r\n            windowScroll=ctx.parallax.getWindowScroll();\r\n            $menuHeaderLi.removeClass('active');\r\n            if(windowScroll> $footer.offset().top - 600){\r\n                $menuContact.addClass('active');\r\n            }else if(windowScroll> $about.offset().top -250){\r\n                $menuAbout.addClass('active');\r\n            }else if(windowScroll> $worksSlide.offset().top - 250){\r\n                $menuWork.addClass('active');\r\n            }else{\r\n                $menuHome.addClass('active');\r\n            }\r\n        },\r\n        transitionMenu: function($elem, prop, mvt){\r\n            mvt=(mvt>window.innerWidth - $elem.width() - 60)? window.innerWidth - $elem.width() - 60 : mvt;\r\n            $elem.css(prop, mvt+'px');\r\n        },\r\n        onResize: function(){\r\n            if(!window.matchMedia(\"(max-width: 1100px)\").matches){\r\n                X=30;\r\n                self.transitionMenu($menuHeader, 'right', X);\r\n            }\r\n        }\r\n    };\r\n    \r\n    ctx.menu=menu;\r\n    var self=menu;\r\n})(app);"],"sourceRoot":"/source/"}