function scroll(a,l){$("html, body").animate({scrollTop:$(a).offset().top-($("header").height()+l)},2e3)}function dataFill(a){var l=$(a).attr("data-percent");$(a).children(".rempl_data").css("width",l+"%")}function dataUnfill(a){$(a).children(".rempl_data").css("width","0%")}function transitionMenuHeader(a,l,e){e=e>window.innerWidth-$(a).width()-60?window.innerWidth-$(a).width()-60:e,console.log(window.innerWidth-$(a).width()-60),$(a).css(l,e+"px")}function position_lightbox(a){var l=$(a),e=.5*($(window).innerHeight()-l.height()),o=.4*$(window).innerWidth()*.5;a.css(window.matchMedia("(max-width: 480px)").matches?window.matchMedia("(max-width: 400px)").matches?{top:e+"px",left:"2%"}:{top:e+"px",left:"10%"}:{top:e+"px",left:o+"px"})}function create_lightbox(a){var l=$(window),e=$(a).children(".com").html(),o=$(a).children(".banner_detail").html(),i=$('<div class="modal"></div>').appendTo("body"),t=$('<div class="lightbox">'+e+o+"</div>").appendTo("body"),n=$('<div class="cross"></div>').appendTo(t),r=.5*(l.innerHeight()-(t.height()+180)),d=.4*l.innerWidth()*.5;t.css(window.matchMedia("(max-width: 480px)").matches?window.matchMedia("(max-width: 400px)").matches?{top:r+"px",left:"2%"}:{top:r+"px",left:"10%"}:{top:r+"px",left:d+"px"}),n.on("click",function(){t.remove(),i.remove()}),i.on("click",function(){t.remove(),i.remove()}),$(window).on("resize",function(){position_lightbox(t)})}!function(){for(var a=0,l=["webkit","moz"],e=0;e<l.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[l[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[e]+"CancelAnimationFrame"]||window[l[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(l){var e=(new Date).getTime(),o=Math.max(0,16-(e-a)),i=window.setTimeout(function(){l(e+o)},o);return a=e+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var Parallax=Parallax||{windowScroll:0,parallaxBG:function(a,l,e){$(a).css({"background-position":"0px "+(l-Parallax.windowScroll/e)+"px"})},parallaxHeight:function(a,l,e,o,i){$(a).css({height:l+(Parallax.windowScroll/e-o)*i+"%"})}};$(function(){}),$(function(){var a,l,e,o=$(window),i=($("#wrapper_header"),$("#about")),t=$("#works_slide"),n=$("#footer"),r=t.height();$(".project_banner").on("click",function(){create_lightbox(this)});var d=$("#menu_header"),c=$("#menu_header li");c.on("click",function(a){a.preventDefault(),c.removeClass("active"),$(this).addClass("active")});var w=$("#skills h2");if(!window.matchMedia("(max-width: 1280px)").matches){var s=w.offset().left;transitionMenuHeader("#menu_header","left",s)}o.on("resize",function(){if(window.matchMedia("(min-width : 1281px)").matches){var a=w.offset().left;transitionMenuHeader("#menu_header","left",a)}window.matchMedia("(max-width: 1280px)").matches&&window.matchMedia("(min-width:990px)").matches&&d.css("left","35rem"),window.matchMedia("(max-width: 930px)").matches&&d.css("left","0")}),$("#learn").on("click",function(a){a.preventDefault(),scroll("#works_slide",20)}),$("#menu_head_home, #logo").on("click",function(a){a.preventDefault(),scroll("#wrapper",0)}),$("#menu_head_work").on("click",function(a){a.preventDefault(),scroll("#works_slide",20)}),$("#menu_head_about").on("click",function(a){a.preventDefault(),scroll("#about",0)}),$("#menu_head_contact").on("click",function(a){a.preventDefault(),scroll("#wrapper_footer",0)}),$("#menu_filter li").on("click",function(o){if(o.preventDefault(),a=$(this),a.hasClass("active")===!1)if($("#menu_filter li").removeClass("active"),a.addClass("active"),l=a.attr("data-filter"),e=$(".project_banner"),"All"===l)$(e).addClass("project_filter");else for(var i=0;i<e.length;i++)$(e[i]).hasClass(l)?$(e[i]).addClass("project_filter"):$(e[i]).removeClass("project_filter")}),o.on("scroll",function(a){if(a.preventDefault(),Parallax.windowScroll=Math.floor(o.scrollTop()),window.matchMedia("(max-width: 460px)").matches){if(Parallax.windowScroll>i.offset().top-100&&Parallax.windowScroll<2800)for(var l=$("#skills .web .data"),e=0;e<l.length;e++)dataFill(l[e]);if(Parallax.windowScroll<1500||Parallax.windowScroll>3900)for(var l=$("#skills .web .data"),e=0;e<l.length;e++)dataUnfill(l[e])}else if(window.matchMedia("(max-width: 1280px)").matches){if(Parallax.windowScroll>0&&Parallax.windowScroll<850&&Parallax.parallaxBG("#fond_base",75,.3),Parallax.windowScroll>800&&Parallax.windowScroll<4400){Parallax.parallaxBG("#fond_about",75,.1);var d=r/t.height()*.64;Parallax.parallaxHeight("#fond_about",0,20,59,d)}if(Parallax.windowScroll>500&&Parallax.windowScroll<1800&&Parallax.parallaxBG("#web_game .slide",75,-.3),Parallax.windowScroll>i.offset().top-100&&Parallax.windowScroll<2700)for(var l=$("#skills .web .data"),e=0;e<l.length;e++)dataFill(l[e]);if(Parallax.windowScroll<1500||Parallax.windowScroll>3600)for(var l=$("#skills .web .data"),e=0;e<l.length;e++)dataUnfill(l[e])}else{if(Parallax.windowScroll>0&&Parallax.windowScroll<t.offset().top+200&&Parallax.parallaxBG("#fond_base",75,.3),Parallax.windowScroll>i.offset().top-200&&Parallax.windowScroll<3300&&(Parallax.parallaxBG("#fond_about",75,.1),Parallax.parallaxHeight("#fond_about",0,20,65,1.6)),Parallax.windowScroll>500&&Parallax.windowScroll<1800&&Parallax.parallaxBG("#web_game .slide",75,-.3),Parallax.windowScroll>i.offset().top-200&&Parallax.windowScroll<2600)for(var l=$("#skills .web .data"),e=0;e<l.length;e++)dataFill(l[e]);if(Parallax.windowScroll<1300||Parallax.windowScroll>2600)for(var l=$("#skills .web .data"),e=0;e<l.length;e++)dataUnfill(l[e])}Parallax.windowScroll>n.offset().top-600?(c.removeClass("active"),$("#menu_head_contact").addClass("active")):Parallax.windowScroll>i.offset().top-250?(c.removeClass("active"),$("#menu_head_about").addClass("active")):Parallax.windowScroll>t.offset().top-250?(c.removeClass("active"),$("#menu_head_work").addClass("active")):(c.removeClass("active"),$("#menu_head_home").addClass("active"))})});