function scroll(a,l){$("html, body").animate({scrollTop:$(a).offset().top-($("header").height()+l)},2e3)}function dataFill(a){var l=$(a).attr("data-percent");$(a).children(".remplData").css("width",l+"%")}function dataUnfill(a){$(a).children(".remplData").css("width","0%")}function transitionMenuHeader(a,l,e){window.requestAnimationFrame(transitionMenuHeader),$(a).css(l,e+"px")}function position_lightbox(a){var l=$(a),e=.5*($(window).innerHeight()-l.height()),o=.4*$(window).innerWidth()*.5;a.css(window.matchMedia("(max-width: 480px)").matches?window.matchMedia("(max-width: 400px)").matches?{top:e+"px",left:"2%"}:{top:e+"px",left:"10%"}:{top:e+"px",left:o+"px"})}function create_lightbox(a){var l=$(a).children(".com").html(),e=$(a).children(".bannerDetail").html(),o=$('<div class="modal"></div>').appendTo("body"),i=$('<div class="lightbox">'+l+e+"</div>").appendTo("body"),t=$('<div class="cross"></div>').appendTo(i),n=.5*($window.innerHeight()-(i.height()+180)),r=.4*$window.innerWidth()*.5;i.css(window.matchMedia("(max-width: 480px)").matches?window.matchMedia("(max-width: 400px)").matches?{top:n+"px",left:"2%"}:{top:n+"px",left:"10%"}:{top:n+"px",left:r+"px"}),t.on("click",function(){i.remove(),o.remove()}),o.on("click",function(){i.remove(),o.remove()}),$(window).on("resize",function(){position_lightbox(i)})}!function(){for(var a=0,l=["webkit","moz"],e=0;e<l.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[l[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[e]+"CancelAnimationFrame"]||window[l[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(l){var e=(new Date).getTime(),o=Math.max(0,16-(e-a)),i=window.setTimeout(function(){l(e+o)},o);return a=e+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();var Parallax=Parallax||{windowScroll:0,parallaxBG:function(a,l,e){window.requestAnimationFrame(Parallax.parallaxBG),$(a).css({"background-position":"0px "+(l-Parallax.windowScroll/e)+"px"})},parallaxHeight:function(a,l,e,o,i){window.requestAnimationFrame(Parallax.parallaxHeight),$(a).css({height:l+(Parallax.windowScroll/e-o)*i+"%"})}};$(function(){null!=localStorage.mail&&(scroll("#wrapperFooter",0),localStorage.removeItem("mail")),$("#contactSub").on("click",function(){var a=!0;localStorage.setItem("mail",a)}),$(".form_name, .form_mail, .form_message").attr("required","true");var a=!1;$("#contactForm .form_mail").after('<div id="flashMessage" class="errorForm"></div>'),$("#contactForm form").submit(function(){var l=$("#formMail").val();return l.match(/^[a-zA-Z0-9\.\_\-]+@[a-zA-Z0-9\.\_\-]+\.[a-zA-Z]{2,6}/)==l?(a=!1,$("#flashMessage").remove()):a=!0,1==a?($("#flashMessage").html("email incorrect").slideDown().delay(5e3).slideUp(),!1):void 0})}),$(function(){$window=$(window),$about=$("#about"),$worksSlide=$("#worksSlide"),$footer=$("footer"),worksBaseHeight=$worksSlide.height(),$(".projectBanner").on("click",function(){create_lightbox(this)}),$("#logo h1").on("click",function(){document.location.href="index.php"});var a=$("#menuHeader"),l=$("#menuHeader li");l.on("click",function(a){a.preventDefault(),l.removeClass("active"),$(this).addClass("active")});var e=$("#skills h2");if(!window.matchMedia("(max-width: 1280px)").matches){var o=e.offset().left;transitionMenuHeader("#menuHeader","left",o)}$window.on("resize",function(){if(window.matchMedia("(min-width : 1281px)").matches){var l=e.offset().left;transitionMenuHeader("#menuHeader","left",l)}window.matchMedia("(max-width: 1280px)").matches&&window.matchMedia("(min-width:990px)").matches&&a.css("left","35rem"),window.matchMedia("(max-width: 930px)").matches&&a.css("left","0")}),$("#learn").on("click",function(a){a.preventDefault(),scroll("#worksSlide",20)}),$("#menuHeadHome").on("click",function(a){a.preventDefault(),scroll("#wrapper",0)}),$("#menuHeadWork").on("click",function(a){a.preventDefault(),scroll("#worksSlide",20)}),$("#menuHeadAbout").on("click",function(a){a.preventDefault(),scroll("#about",0)}),$("#menuHeadContact").on("click",function(a){a.preventDefault(),scroll("#wrapperFooter",0)}),$("#menuFilter li").on("click",function(a){if(a.preventDefault(),0==$(this).hasClass("active"))if($("#menuFilter li").removeClass("active"),$(this).addClass("active"),filter=$(this).attr("data-filter"),projet=$(".projectBanner"),"All"==filter)$(projet).css("display","block");else for(var l=0;l<projet.length;l++)$(projet[l]).hasClass(filter)?$(projet[l]).css("display","block"):$(projet[l]).css("display","none")}),$(".projectBanner").on("mouseover",function(a){a.preventDefault,$(this).children(".veil").css("opacity",.25),$(this).on("mouseleave",function(){$(this).children(".veil").css("opacity",.9)})}),$window.on("scroll",function(a){if(a.preventDefault(),Parallax.windowScroll=Math.floor($window.scrollTop()),window.matchMedia("(max-width: 460px)").matches){if(Parallax.windowScroll>$about.offset().top-100&&Parallax.windowScroll<2800)for(var e=$("#skills #web .data"),o=0;o<e.length;o++)dataFill(e[o]);if(Parallax.windowScroll<1500||Parallax.windowScroll>3900)for(var e=$("#skills #web .data"),o=0;o<e.length;o++)dataUnfill(e[o])}else if(window.matchMedia("(max-width: 1280px)").matches){if(Parallax.windowScroll>0&&Parallax.windowScroll<850&&Parallax.parallaxBG("#fondBase",75,.3),Parallax.windowScroll>800&&Parallax.windowScroll<4400){Parallax.parallaxBG("#fondAbout",75,.1);var i=worksBaseHeight/$worksSlide.height()*.64;Parallax.parallaxHeight("#fondAbout",0,20,59,i)}if(Parallax.windowScroll>500&&Parallax.windowScroll<1800&&Parallax.parallaxBG("#webGame .slide",75,-.3),Parallax.windowScroll>$about.offset().top-100&&Parallax.windowScroll<2700)for(var e=$("#skills #web .data"),o=0;o<e.length;o++)dataFill(e[o]);if(Parallax.windowScroll<1500||Parallax.windowScroll>3600)for(var e=$("#skills #web .data"),o=0;o<e.length;o++)dataUnfill(e[o])}else{if(Parallax.windowScroll>0&&Parallax.windowScroll<850&&Parallax.parallaxBG("#fondBase",75,.3),Parallax.windowScroll>500&&Parallax.windowScroll<3300){Parallax.parallaxBG("#fondAbout",75,.1);var i=worksBaseHeight/$worksSlide.height();Parallax.parallaxHeight("#fondAbout",0,20,59,i)}if(Parallax.windowScroll>500&&Parallax.windowScroll<1800&&Parallax.parallaxBG("#webGame .slide",75,-.3),Parallax.windowScroll>$about.offset().top-200&&Parallax.windowScroll<2600)for(var e=$("#skills #web .data"),o=0;o<e.length;o++)dataFill(e[o]);if(Parallax.windowScroll<1300||Parallax.windowScroll>2600)for(var e=$("#skills #web .data"),o=0;o<e.length;o++)dataUnfill(e[o])}Parallax.windowScroll>$footer.offset().top-600?(l.removeClass("active"),$("#menuHeadContact").addClass("active")):Parallax.windowScroll>$about.offset().top-250?(l.removeClass("active"),$("#menuHeadAbout").addClass("active")):Parallax.windowScroll>$worksSlide.offset().top-250?(l.removeClass("active"),$("#menuHeadWork").addClass("active")):(l.removeClass("active"),$("#menuHeadHome").addClass("active"))})});