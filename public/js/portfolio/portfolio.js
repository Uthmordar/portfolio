!function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),n=Math.max(0,16-(i-e)),o=window.setTimeout(function(){t(i+n)},n);return e=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){"use strict";var t,i={initialize:function(e){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),t=e,n.form.initialize(),n.menu.initialize(),n.portfolio.initialize(),n.works.initialize(),n.parallax.initialize(),n.bindEvents()},bindEvents:function(){},getBaseUrl:function(){return t}};e.app=i;var n=i}(window),function(e){"use strict";var t,i,n,o,a,r,s,l,c,d,u,f,m,p,h,v=0,w={initialize:function(){r=$("#form_contact"),s=$("#name"),l=$("#email"),c=$("#message"),i=$("#form_contact .form_submit"),m=s.siblings(".error_name"),p=l.siblings(".error_mail"),h=c.siblings(".error_message"),g.bindEvents()},bindEvents:function(){r.on("submit",function(e){return e.preventDefault(),a=0,g.getFields(),g.resetFieldsStatus(),g.checkFields()?(i.val("Submit").removeClass("submit_error"),v||(v++,g.generateToken(),i.val("Sending...").addClass("active"),g.ajaxSendMail()),!1):!1}),l.on("keyup change",function(){g.getEmail(),g.checkValidEmail()})},checkFields:function(){return d||(g.setFieldError(s,m,"Could I know your name."),a++),u?g.checkValidEmail()||(g.setFieldError(l,p,"This email is invalid."),a++):(g.setFieldError(l,p,"I need your email to reply."),a++),f||(g.setFieldError(c,h,"Could you tell me why you contact me, please."),a++),a?!1:!0},resetFieldsStatus:function(){s.removeClass("error_form"),l.removeClass("error_form"),c.removeClass("error_form")},setFieldError:function(e,t,i){t.html(i),e.addClass("error_form")},getFields:function(){d=s.val(),u=l.val().trim(),f=c.val().trim()},getEmail:function(){u=l.val().trim()},checkValidEmail:function(){return o=u.match(/^[a-zA-Z0-9\.\_\-]+@[a-zA-Z0-9\.\_\-]+\.[a-zA-Z]{2,6}/),o&&o[0]===u?(l.removeClass("error_form"),!0):(l.addClass("error_form"),!1)},ajaxSendMail:function(){$.ajax({type:"POST",url:e.getBaseUrl()+"/contact",data:{_token:n,name:d,email:u,message:f},success:function(e){v=0,"success"===e.status?i.removeClass("active").val("Send"):i.val("Error").addClass("submit_error")},error:function(e){v=0,i.val("Error").addClass("submit_error"),e=JSON.parse(e.responseText),e.name&&g.setFieldError(s,m,"Could I know your name."),e.email&&g.setFieldError(l,p,"I need a valid email to reply."),e.message&&g.setFieldError(c,h,"Could you tell me why you contact me, please.")}},"json")},generateToken:function(){t=new Date,n=t.getUTCDate()+"_"+Math.random().toString(36).substring(7)+(t.getMonth()+1)}};e.form=w;var g=w}(app),function(e){"use strict";var t,i,n,o,a,r,s,l,c,d=$("html, body"),u=$("#header"),f=$(window),m=$("#menu_header"),p=m.children("ul").children("li"),h=$("#works_slide"),v=$("#wrapper"),w=$("#learn"),g={initialize:function(){i=$(".project_banner"),b.bindEvents()},bindEvents:function(){i.on("click",function(){c=$(this),l=c.attr("data-project"),c.children(".veil").addClass("active"),$.ajax({type:"GET",url:e.getBaseUrl()+"/project/"+l,success:function(e){b.generateLightbox(e),c.children(".veil").removeClass("active")}})}),f.on("resize",function(){r&&b.positionLightbox()}),p.on("click",function(e){e.preventDefault(),p.removeClass("active"),$(this).addClass("active")}),w.on("click",function(e){e.preventDefault(),b.scroll(h,20)}),$("#menu_head_home, #logo").on("click",function(e){e.preventDefault(),b.scroll(v,0)})},bindEventsModal:function(){s.on("click",function(){b.destroyLightbox()}),a.on("click",function(){b.destroyLightbox()})},dataFill:function(e){t=$(e).attr("data-percent"),$(e).children(".rempl_data").css("width",t+"%")},dataUnfill:function(e){$(e).children(".rempl_data").css("width","0")},generateLightbox:function(e){a=$('<div class="modal"></div>').appendTo("body"),r=$('<div class="lightbox"><h3>'+e.data.title+"</h3><p>"+e.data["abstract"]+"</p>"+e.content+"</div>").appendTo("body"),s=$('<div class="cross"></div>').appendTo(r),v.addClass("blur"),b.positionLightbox(),b.bindEventsModal()},destroyLightbox:function(){v.removeClass("blur"),r.remove(),a.remove()},positionLightbox:function(){n=.5*(f.innerHeight()-r.height()),o=.4*f.innerWidth()*.5,r.css(window.matchMedia("(max-width: 480px)").matches?window.matchMedia("(max-width: 400px)").matches?{top:n+"px",left:"2%"}:{top:n+"px",left:"10%"}:{top:n+"px",left:o+"px"})},scroll:function(e,t){d.animate({scrollTop:e.offset().top-(u.height()+t)},2e3)}};e.portfolio=g;var b=g}(app),function(e){"use strict";var t,i=0,n=$(window),o=$("#works_slide"),a=$("#skills"),r=$("#about"),s=$("#fond_base"),l={initialize:function(){t=$("#skills .web .data"),c.bindEvents()},bindEvents:function(){n.on("scroll",function(t){t.preventDefault(),i=Math.floor(n.scrollTop()),c.renderParallax(),e.menu.controlMenuActiveLink()})},getWindowScroll:function(){return i},parallaxBG:function(e,t,n){e.css({"background-position":"0px "+(t-i/n)+"px"})},parallaxHeight:function(e,t,n,o,a){e.css({height:t+(i/n-o)*a+"%"})},renderParallax:function(){if(i>-100&&i<o.offset().top+200&&c.parallaxBG(s,75,.5),c.parallaxBG(r,0,.1),i>a.offset().top-150&&i<a.offset().top+a.height()-150)for(var n=0;n<t.length;n++)e.portfolio.dataFill(t[n]);if(i<a.offset().top-300||i>a.offset().top+a.height()-150)for(var n=0;n<t.length;n++)e.portfolio.dataUnfill(t[n])}};e.parallax=l;var c=l}(app),function(e){"use strict";var t,i,n=$("#menu_filter li"),o=$(".project_banner"),a={initialize:function(){r.bindEvents()},bindEvents:function(){n.on("click",function(e){e.preventDefault(),i=$(this),i.hasClass("active")===!1&&r.filterWorks(i)})},filterWorks:function(e){if(n.removeClass("active"),e.addClass("active"),t=e.attr("data-filter"),"All"===t)o.addClass("project_filter");else for(var i=0;i<o.length;i++)r.projectStatusChange($(o[i]))},projectStatusChange:function(e){e.hasClass(t)?e.addClass("project_filter"):e.removeClass("project_filter")}};e.works=a;var r=a}(app),function(e){"use strict";var t,i=0,n=$(window),o=$("#works_slide"),a=$("#footer"),r=$("#about"),s=$("#menu_header"),l=$("#wrapper_footer"),c=s.children("ul").children("li"),d=$("#menu_head_contact"),u=$("#menu_head_about"),f=$("#menu_head_work"),m=$("#menu_head_home"),p={initialize:function(){window.matchMedia("(max-width: 1100px)").matches||(t=30,h.transitionMenu(s,"right",t)),h.bindEvents()},bindEvents:function(){n.on("resize",function(){h.onResize()}),f.on("click",function(t){t.preventDefault(),e.portfolio.scroll(o,20)}),u.on("click",function(t){t.preventDefault(),e.portfolio.scroll(r,0)}),d.on("click",function(t){t.preventDefault(),e.portfolio.scroll(l,0)})},controlMenuActiveLink:function(){i=e.parallax.getWindowScroll(),c.removeClass("active"),i>a.offset().top-600?d.addClass("active"):i>r.offset().top-250?u.addClass("active"):i>o.offset().top-250?f.addClass("active"):m.addClass("active")},transitionMenu:function(e,t,i){i=i>window.innerWidth-e.width()-60?window.innerWidth-e.width()-60:i,e.css(t,i+"px")},onResize:function(){window.matchMedia("(max-width: 1100px)").matches||(t=30,h.transitionMenu(s,"right",t))}};e.menu=p;var h=p}(app);