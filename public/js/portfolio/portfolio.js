!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+i)},i);return e=n+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){"use strict";var t,n={initialize:function(e){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),t=e,i.form.initialize(),i.menu.initialize(),i.portfolio.initialize(),i.works.initialize(),i.parallax.initialize(),i.bindEvents()},bindEvents:function(){},getBaseUrl:function(){return t}};e.app=n;var i=n}(window),function(e){"use strict";var t,n,i,o,a,r,l,s,c,d,u,f,m,p,h,w=0,v={initialize:function(){r=$("#form_contact"),l=$("#name"),s=$("#email"),c=$("#message"),n=$("#form_contact .form_submit"),m=l.siblings(".error_name"),p=s.siblings(".error_mail"),h=c.siblings(".error_message"),g.bindEvents()},bindEvents:function(){r.on("submit",function(e){return e.preventDefault(),a=0,g.getFields(),g.resetFieldsStatus(),g.checkFields()?(n.val("Submit").removeClass("submit_error"),w||(w++,g.generateToken(),n.val("Sending..."),g.ajaxSendMail()),!1):!1}),s.on("keyup change",function(){g.getEmail(),g.checkValidEmail()})},checkFields:function(){return d||(g.setFieldError(l,m,"Could I know your name."),a++),u?g.checkValidEmail()||(g.setFieldError(s,p,"This email is invalid."),a++):(g.setFieldError(s,p,"I need your email to reply."),a++),f||(g.setFieldError(c,h,"Could you tell me why you contact me, please."),a++),a?!1:!0},resetFieldsStatus:function(){l.removeClass("error_form"),s.removeClass("error_form"),c.removeClass("error_form")},setFieldError:function(e,t,n){t.html(n),e.addClass("error_form")},getFields:function(){d=l.val(),u=s.val().trim(),f=c.val().trim()},getEmail:function(){u=s.val().trim()},checkValidEmail:function(){return o=u.match(/^[a-zA-Z0-9\.\_\-]+@[a-zA-Z0-9\.\_\-]+\.[a-zA-Z]{2,6}/),o&&o[0]===u?(s.removeClass("error_form"),!0):(s.addClass("error_form"),!1)},ajaxSendMail:function(){$.ajax({type:"POST",url:e.getBaseUrl()+"/contact",data:{_token:i,name:d,email:u,message:f},success:function(e){w=0,"success"===e.status?n.val("Send"):n.val("Error").addClass("submit_error")},error:function(e){w=0,n.val("Error").addClass("submit_error"),e=JSON.parse(e.responseText),e.name&&g.setFieldError(l,m,"Could I know your name."),e.email&&g.setFieldError(s,p,"I need a valid email to reply."),e.message&&g.setFieldError(c,h,"Could you tell me why you contact me, please.")}},"json")},generateToken:function(){t=new Date,i=t.getUTCDate()+"_"+Math.random().toString(36).substring(7)+(t.getMonth()+1)}};e.form=v;var g=v}(app),function(e){"use strict";var t,n,i,o,a,r,l,s,c=$("html, body"),d=$("#header"),u=$(window),f=$("#menu_header"),m=f.children("ul").children("li"),p=$("#works_slide"),h=$("#wrapper"),w=$("#learn"),v={initialize:function(){n=$(".project_banner"),g.bindEvents()},bindEvents:function(){n.on("click",function(){s=$(this).attr("data-project"),$.ajax({type:"GET",url:e.getBaseUrl()+"/project/"+s,success:function(e){g.generateLightbox(e)}})}),u.on("resize",function(){r&&g.positionLightbox()}),m.on("click",function(e){e.preventDefault(),m.removeClass("active"),$(this).addClass("active")}),w.on("click",function(e){e.preventDefault(),g.scroll(p,20)}),$("#menu_head_home, #logo").on("click",function(e){e.preventDefault(),g.scroll(h,0)})},bindEventsModal:function(){l.on("click",function(){g.destroyLightbox()}),a.on("click",function(){g.destroyLightbox()})},dataFill:function(e){t=$(e).attr("data-percent"),$(e).children(".rempl_data").css("width",t+"%")},dataUnfill:function(e){$(e).children(".rempl_data").css("width","0")},generateLightbox:function(e){a=$('<div class="modal"></div>').appendTo("body"),r=$('<div class="lightbox"><h3>'+e.data.title+"</h3><p>"+e.data["abstract"]+"</p>"+e.content+"</div>").appendTo("body"),l=$('<div class="cross"></div>').appendTo(r),h.addClass("blur"),g.positionLightbox(),g.bindEventsModal()},destroyLightbox:function(){h.removeClass("blur"),r.remove(),a.remove()},positionLightbox:function(){i=.5*(u.innerHeight()-r.height()),o=.4*u.innerWidth()*.5,r.css(window.matchMedia("(max-width: 480px)").matches?window.matchMedia("(max-width: 400px)").matches?{top:i+"px",left:"2%"}:{top:i+"px",left:"10%"}:{top:i+"px",left:o+"px"})},scroll:function(e,t){c.animate({scrollTop:e.offset().top-(d.height()+t)},2e3)}};e.portfolio=v;var g=v}(app),function(e){"use strict";var t,n=0,i=$(window),o=$("#works_slide"),a=$("#about"),r=$("#fond_base"),l=$("#fond_about"),s={initialize:function(){t=$("#skills .web .data"),c.bindEvents()},bindEvents:function(){i.on("scroll",function(t){t.preventDefault(),n=Math.floor(i.scrollTop()),c.renderParallax(),e.menu.controlMenuActiveLink()})},getWindowScroll:function(){return n},parallaxBG:function(e,t,i){e.css({"background-position":"0px "+(t-n/i)+"px"})},parallaxHeight:function(e,t,i,o,a){e.css({height:t+(n/i-o)*a+"%"})},renderParallax:function(){if(n>-100&&n<o.offset().top+200&&c.parallaxBG(r,75,.5),n>a.offset().top-200&&3300>n&&(c.parallaxBG(l,75,.1),c.parallaxHeight(l,0,20,65,1.6)),n>a.offset().top-200&&2600>n)for(var i=0;i<t.length;i++)e.portfolio.dataFill(t[i]);if(1300>n||n>2600)for(var i=0;i<t.length;i++)e.portfolio.dataUnfill(t[i])}};e.parallax=s;var c=s}(app),function(e){"use strict";var t,n,i=$("#menu_filter li"),o=$(".project_banner"),a={initialize:function(){r.bindEvents()},bindEvents:function(){i.on("click",function(e){e.preventDefault(),n=$(this),n.hasClass("active")===!1&&r.filterWorks(n)})},filterWorks:function(e){if(i.removeClass("active"),e.addClass("active"),t=e.attr("data-filter"),"All"===t)o.addClass("project_filter");else for(var n=0;n<o.length;n++)r.projectStatusChange($(o[n]))},projectStatusChange:function(e){e.hasClass(t)?e.addClass("project_filter"):e.removeClass("project_filter")}};e.works=a;var r=a}(app),function(e){"use strict";var t,n=0,i=$(window),o=$("#works_slide"),a=$("#footer"),r=$("#about"),l=$("#menu_header"),s=$("#wrapper_footer"),c=l.children("ul").children("li"),d=$("#menu_head_contact"),u=$("#menu_head_about"),f=$("#menu_head_work"),m=$("#menu_head_home"),p={initialize:function(){window.matchMedia("(max-width: 1100px)").matches||(t=30,h.transitionMenu(l,"right",t)),h.bindEvents()},bindEvents:function(){i.on("resize",function(){h.onResize()}),f.on("click",function(t){t.preventDefault(),e.portfolio.scroll(o,20)}),u.on("click",function(t){t.preventDefault(),e.portfolio.scroll(r,0)}),d.on("click",function(t){t.preventDefault(),e.portfolio.scroll(s,0)})},controlMenuActiveLink:function(){n=e.parallax.getWindowScroll(),c.removeClass("active"),n>a.offset().top-600?d.addClass("active"):n>r.offset().top-250?u.addClass("active"):n>o.offset().top-250?f.addClass("active"):m.addClass("active")},transitionMenu:function(e,t,n){n=n>window.innerWidth-e.width()-60?window.innerWidth-e.width()-60:n,e.css(t,n+"px")},onResize:function(){window.matchMedia("(max-width: 1100px)").matches||(t=30,h.transitionMenu(l,"right",t))}};e.menu=p;var h=p}(app);